!function(){var e={641:function(e){e.exports=class{constructor(e,t={}){const s={placeholder:"Select item(s)",max:null,search:!0,selectAll:!0,listAll:!0,closeListOnItemSelect:!1,name:"",width:"",height:"",dropdownWidth:"",dropdownHeight:"",data:[],onChange(){},onSelect(){},onUnselect(){}};if(this.options=Object.assign(s,t),this.selectElement=e,"string"==typeof e&&(this.selectElement=document.querySelector(e)),Object.entries(this.selectElement.dataset).forEach((([e])=>{void 0!==this.options[e]&&(this.options[e]=this.selectElement.dataset[e])})),this.name="multi-select-"+Math.floor(1e6*Math.random()),this.selectElement.getAttribute("name")&&(this.name=this.selectElement.getAttribute("name")),!this.options.data.length){const e=this.selectElement.querySelectorAll("option");for(let t=0;t<e.length;t+=1)this.options.data.push({value:e[t].value,text:e[t].innerHTML,selected:e[t].selected,html:e[t].getAttribute("data-html")})}this.element=this.template(),this.selectElement.replaceWith(this.element),this.updateSelected(),this.eventHandlers()}template(){let e="";for(let t=0;t<this.data.length;t+=1){let s="";this.selectedValues.includes(this.data[t].value)&&(s=" multi-select-selected"),e+=`\n        <div\n          class="multi-select-option${s}"\n          data-value="${this.data[t].value}"\n        >\n          <span class="multi-select-option-radio"></span>\n          <span class="multi-select-option-text">\n            ${this.data[t].html?this.data[t].html:this.data[t].text}\n          </span>\n        </div>\n      `}let t="";!0!==this.options.selectAll&&"true"!==this.options.selectAll||(t='<div class="multi-select-all">\n                <span class="multi-select-option-radio"></span>\n                <span class="multi-select-option-text">Select all</span>\n            </div>');const s=this.width?"width:"+this.width+";":"",l=this.height?"height:"+this.height+";":"";let i="",n="",o="",a="";this.selectElement.id&&(i=' id="'+this.selectElement.id+'"'),this.options.dropdownWidth&&(n="width:"+this.options.dropdownWidth+";"),this.options.dropdownHeight&&(o="height:"+this.options.dropdownHeight+";"),!0!==this.options.search&&"true"!==this.options.search||(a='<input\n        type="text"\n        class="multi-select-search"\n        placeholder="Search...">');const c=this.selectedValues.map((e=>{const{name:t}=this;return'<input type="hidden" name="'+t+'" value="'+e+'">'})).join("");let r="";this.options.max&&(r=this.selectedValues.length+"/"+this.options.max);const h=`\n      <div class="multi-select ${this.name}" style="${s}${l}"${i}>\n        ${c}\n        <div class="multi-select-header" style="${s}${l}">\n          <span class="multi-select-header-max">\n            ${r}\n          </span>\n          <span class="multi-select-header-placeholder">\n            ${this.placeholder}\n          </span>\n        </div>\n        <div class="multi-select-options" style="${n}${o}">\n          ${a}\n          ${t}\n          ${e}\n        </div>\n      </div>\n    `,d=document.createElement("div");return d.innerHTML=h,d}eventHandlers(){const e=this.element.querySelector(".multi-select-header");if(this.element.querySelectorAll(".multi-select-option").forEach((t=>{t.onclick=()=>{let s=!0;if(t.classList.contains("multi-select-selected"))t.classList.remove("multi-select-selected"),this.element.querySelectorAll(".multi-select-header-option").forEach((e=>{e.dataset.value===t.dataset.value&&e.remove()})),this.element.querySelector(`input[value="${t.dataset.value}"]`).remove(),this.data.filter((e=>e.value===t.dataset.value))[0].selected=!1,s=!1;else{if(this.options.max&&this.selectedValues.length>=this.options.max)return;if(t.classList.add("multi-select-selected"),!0===this.options.listAll||"true"===this.options.listAll)if(this.element.querySelector(".multi-select-header-option")){const e=Array.from(this.element.querySelectorAll(".multi-select-header-option")).pop(),s=t.querySelector(".multi-select-option-text").innerHTML;e.insertAdjacentHTML("afterend",`<span\n                    class="multi-select-header-option"\n                    data-value="${t.dataset.value}"\n                    >${s}\n                  </span>`)}else{const s=t.querySelector(".multi-select-option-text").innerHTML;e.insertAdjacentHTML("afterbegin",`<span\n                    class="multi-select-header-option"\n                    data-value="${t.dataset.value}">\n                    ${s}\n                  </span>`)}this.element.querySelector(".multi-select").insertAdjacentHTML("afterbegin",`<input\n                type="hidden"\n                name="${this.name}"\n                value="${t.dataset.value}">`),this.data.filter((e=>e.value===t.dataset.value))[0].selected=!0}if(!1!==this.options.listAll&&"false"!==this.options.listAll||(this.element.querySelector(".multi-select-header-option")&&this.element.querySelector(".multi-select-header-option").remove(),e.insertAdjacentHTML("afterbegin",`<span class="multi-select-header-option">\n              ${this.selectedValues.length} selected\n            </span>`)),this.element.querySelector(".multi-select-header-option")?this.element.querySelector(".multi-select-header-placeholder")&&this.element.querySelector(".multi-select-header-placeholder").remove():e.insertAdjacentHTML("afterbegin",`<span class="multi-select-header-placeholder">\n              ${this.placeholder}\n            </span>`),this.options.max){const e=this.selectedValues.length,t=this.options.max;this.element.querySelector(".multi-select-header-max").innerHTML=e+"/"+t}!0!==this.options.search&&"true"!==this.options.search||(this.element.querySelector(".multi-select-search").value=""),this.element.querySelectorAll(".multi-select-option").forEach((e=>{e.style.display="flex"})),!0!==this.options.closeListOnItemSelect&&"true"!==this.options.closeListOnItemSelect||e.classList.remove("multi-select-header-active"),this.options.onChange(t.dataset.value,t.querySelector(".multi-select-option-text").innerHTML,t),s?this.options.onSelect(t.dataset.value,t.querySelector(".multi-select-option-text").innerHTML,t):this.options.onUnselect(t.dataset.value,t.querySelector(".multi-select-option-text").innerHTML,t)}})),e.onclick=()=>{e.classList.toggle("multi-select-header-active")},!0===this.options.search||"true"===this.options.search){const e=this.element.querySelector(".multi-select-search");e.oninput=()=>{this.element.querySelectorAll(".multi-select-option").forEach((t=>{const s=t.querySelector(".multi-select-option-text").innerHTML.toLowerCase().indexOf(e.value.toLowerCase());t.style.display=s>-1?"flex":"none"}))}}if(!0===this.options.selectAll||"true"===this.options.selectAll){const e=this.element.querySelector(".multi-select-all");e.onclick=()=>{const t=e.classList.contains("multi-select-selected");this.element.querySelectorAll(".multi-select-option").forEach((e=>{const s=this.data.find((t=>t.value===e.dataset.value));s&&(t&&s.selected||!t&&!s.selected)&&e.click()})),e.classList.toggle("multi-select-selected")}}this.selectElement.id&&document.querySelector('label[for="'+this.selectElement.id+'"]')&&(document.querySelector('label[for="'+this.selectElement.id+'"]').onclick=()=>{e.classList.toggle("multi-select-header-active")}),document.addEventListener("click",(t=>{t.target.closest("."+this.name)||t.target.closest('label[for="'+this.selectElement.id+'"]')||e.classList.remove("multi-select-header-active")}))}updateSelected(){!0===this.options.listAll||"true"===this.options.listAll?this.element.querySelectorAll(".multi-select-option").forEach((e=>{if(e.classList.contains("multi-select-selected")){const t=e.querySelector(".multi-select-option-text").innerHTML;this.element.querySelector(".multi-select-header").insertAdjacentHTML("afterbegin",`<span\n                      class="multi-select-header-option"\n                      data-value="${e.dataset.value}"\n                    >${t}</span>`)}})):this.selectedValues.length>0&&this.element.querySelector(".multi-select-header").insertAdjacentHTML("afterbegin",`<span class="multi-select-header-option">\n                ${this.selectedValues.length} selected\n                </span>`),this.element.querySelector(".multi-select-header-option")&&this.element.querySelector(".multi-select-header-placeholder").remove()}get selectedValues(){return this.data.filter((e=>e.selected)).map((e=>e.value))}get selectedItems(){return this.data.filter((e=>e.selected))}set data(e){this.options.data=e}get data(){return this.options.data}set selectElement(e){this.options.selectElement=e}get selectElement(){return this.options.selectElement}set element(e){this.options.element=e}get element(){return this.options.element}set placeholder(e){this.options.placeholder=e}get placeholder(){return this.options.placeholder}set name(e){this.options.name=e}get name(){return this.options.name}set width(e){this.options.width=e}get width(){return this.options.width}set height(e){this.options.height=e}get height(){return this.options.height}}},305:function(e,t,s){const l=s(641);document.querySelectorAll("[data-multi-select]").forEach((e=>new l(e)))}},t={};function s(l){var i=t[l];if(void 0!==i)return i.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,s),n.exports}s(641),s(305)}();